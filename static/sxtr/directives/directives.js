// Generated by CoffeeScript 1.10.0
(function() {
  var FormGroup, NavBarDirective;

  NavBarDirective = function($location) {
    return {
      restrict: 'A',
      replace: false,
      link: function(scope, elem) {
        scope.$on("$routeChangeSuccess", function() {
          var curr;
          elem.find('li.active').removeClass('active');
          curr = elem.find("li:has(a[href*='" + ($location.$$url.replace('/', '', 1)) + "'])");
          if (curr.length === 0) {
            if (!elem.is('ul')) {
              curr = elem.find('ul:first li:first');
            } else {
              curr = elem.children().first();
            }
          }
          return curr.addClass('active');
        });
        return scope.$on('$routeChangeStart', function() {
          if (elem.attr('aria-expanded')) {
            return elem.collapse('hide');
          }
        });
      }
    };
  };

  FormGroup = function() {
    return {
      restrict: 'E',
      transclude: {
        'label': '?formGroupLabel',
        'body': 'formGroupBody',
        'footer': '?formGroupFooter'
      },
      scope: {
        'fieldErrors': '=',
        'showLabel': '=?'
      },
      controller: function($scope) {
        if (angular.isUndefined($scope.showLabel)) {
          return $scope.showLabel = true;
        }
      },
      template: '<div class="form-group" ng-class="{ \'has-error\' : fieldErrors }"> <span ng-show="showLabel" class="col-md-1 col-md-offset-2 text-center" ng-transclude="label"></span> <div ng-class="showLabel ? \'col-md-8\' : \'\' "> <div ng-transclude="body"></div> <span class="help-block " ng-show="fieldErrors"> <ul> <li ng-repeat="error in fieldErrors">{{ error }}</li> </ul> </span> </div > <div ng-transclude="footer"></div> </div>'
    };
  };

  angular.module('sxTrApp').directive('navBarNav', ['$location', NavBarDirective]).directive('formGroup', FormGroup);

}).call(this);
