// Generated by CoffeeScript 1.10.0
(function() {
  var MainController, NewTranslationController, TranslationController;

  MainController = function($scope, translations) {
    return $scope.translations = translations;
  };

  MainController.$inject = ['$scope', 'translations'];

  NewTranslationController = function($scope, locales, applications, $location, Requests) {
    $scope.locales = locales;
    $scope.model = {};
    $scope.errors = {};
    $scope.applications = applications;
    return $scope.submit = function() {
      $scope.errors = {};
      return Requests.post('translations/', $scope.model).then(function(data) {
        return $location.path("/translation/" + data.id);
      }, function(errors) {
        return $scope.errors = errors;
      });
    };
  };

  NewTranslationController.$inject = ['$scope', 'locales', 'applications', '$location', 'Requests'];

  TranslationController = function($scope, tr_model, $location, $routeParams, Requests) {
    if (!($routeParams != null ? $routeParams.id : void 0)) {
      return $location.path('/');
    }
    $scope.model = {};
    $scope.saving = false;
    $scope.errors = {};
    $scope.canEdit = tr_model != null ? tr_model.canEdit : void 0;
    $scope.trUrl = "translations/" + $routeParams.id;
    $scope.translation = tr_model;
    return $scope.onSubmit = function() {
      $scope.saving = true;
      $scope.errors = {};
      return Requests.post($scope.trUrl, $scope.model).then(function() {
        return $scope.saving = false;
      }, function(errors) {
        return $scope.errors = errors;
      });
    };
  };

  TranslationController.$inject = ['$scope', 'tr_model', '$location', '$routeParams', 'Requests'];

  angular.module('sxTrApp').controller('mainController', MainController).controller('newTranslationController', NewTranslationController).controller('translationController', TranslationController);

}).call(this);
